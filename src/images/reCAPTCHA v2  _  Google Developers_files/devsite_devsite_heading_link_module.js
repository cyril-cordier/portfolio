(function(_ds){var window=this;'use strict';var vM=function(a){a=a.label;return(0,_ds.W)('<button role="button" class="devsite-heading-link button-flat material-icons" aria-label="'+_ds.Z(a)+'" data-title="'+_ds.Z(a)+'"></button>')},wM=function(){var a=_ds.As.call(this)||this;a.h=null;a.o=new Set;a.m=new _ds.Bj;a.j=_ds.Op(vM,{label:"Copy link to this section"});a.D=null;a.C=null;return a},AM=function(a){a.m.listen(document.body,[xM,"focusin"],function(b){return void yM(a,b)});a.m.listen(a.j,"click",function(b){b.preventDefault();
b.stopPropagation();var c=(b=_ds.ph(a.h,"devsite-expandable",void 0,2))?b.id:a.h.id;c&&(b=_ds.li(),b.hash=c,c=document.createElement("div"),c.innerText=b.href,_ds.Js(a,[c]),_ds.Qg(c),zM(a))})},yM=function(a,b){var c=b.target;c!==a.D&&(a.D=c,c.matches&&c.matches("h1.add-link[id],h2:not(.no-link)[id],h3:not(.no-link)[id],h4:not(.no-link)[id],h5:not(.no-link)[id],h6:not(.no-link)[id]")||(c=_ds.oh(c,function(d){return d instanceof Element?d.matches("h1.add-link[id],h2:not(.no-link)[id],h3:not(.no-link)[id],h4:not(.no-link)[id],h5:not(.no-link)[id],h6:not(.no-link)[id]"):
!1},!1,3)),c?(c.classList.contains("add-link")||!("full"===document.body.getAttribute("layout")||_ds.ph(c,"devsite-dialog",void 0,3)||_ds.ph(c,"devsite-selector",void 0,6)||_ds.ph(c,"table",void 0,4)))&&BM(a,c,b):CM(a))},BM=function(a,b,c){var d,e,g;_ds.E(function(k){if(1==k.h){if(a.h===b)return k.J(0);a.h=b;d=a.h.dataset.text||a.h.textContent;if(!d)return k.J(0);e="Copy link to this section: "+d;g=a.j;g.dataset.title=e;g.setAttribute("aria-label",e);a.h.appendChild(a.j);a.o.add(a.h);return"focusin"!==
c.type?(a.o.forEach(function(m){m.setAttribute("tabindex","0");a.o.delete(m)}),k.J(0)):_ds.w(k,_ds.zi(),5)}a.h&&a.j&&(a.j.focus(),a.h.setAttribute("tabindex","-1"),_ds.Fj(a.m,a.j,"focusout",function(){a.h.setAttribute("tabindex","0");a.o.delete(a.h)}));_ds.x(k)})},CM=function(a){a.h&&(a.j.remove(),a.h=null)},zM=function(a){var b;_ds.E(function(c){if(1==c.h){if(!a.C)return c.J(0);b=new _ds.zl;a.j.setAttribute("aria-label","Link to this section was copied to the clipboard");_ds.Fj(a.m,a.C,_ds.mv,function(){b.resolve()});
return _ds.w(c,b.promise,3)}_ds.Fj(a.m,a.C,_ds.mv,function(){a.j.setAttribute("aria-label","Copy link to this section")});_ds.x(c)})};var xM="onpointermove"in window?"pointermove":"mousemove";_ds.u(wM,_ds.As);wM.prototype.connectedCallback=function(){_ds.As.prototype.connectedCallback.call(this);AM(this);this.C=document.querySelector("devsite-snackbar")};wM.prototype.disconnectedCallback=function(){_ds.As.prototype.disconnectedCallback.call(this);_ds.Hj(this.m)};wM.prototype.disconnectedCallback=wM.prototype.disconnectedCallback;wM.prototype.connectedCallback=wM.prototype.connectedCallback;try{window.customElements.define("devsite-heading-link",wM)}catch(a){console.warn("devsite.app.customElement.DevsiteHeadingLink",a)};})(_ds_www);
